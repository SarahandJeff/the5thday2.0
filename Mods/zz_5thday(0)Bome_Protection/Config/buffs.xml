<configs>

<append xpath="/buffs">
	<buff name="QuartzHarvesting">
	<stack_type value="ignore"/>
	<duration value="0"/>
	<effect_group>
		<triggered_effect trigger="onSelfDestroyedBlock" action="CallGameEvent" event="GiveQuartz" allow_client_call="true">	 
				<requirement name="CVarCompare" cvar="HOH_BookRead_Mining1" operation="GT" value="0" />
				<requirement name="TriggerHasTags" tags="Quartz"/>
				<requirement name="RandomRoll" seed_type="Random" min_max="0,30" operation="GT" value="5"/> 
				<requirement name="RandomRoll" seed_type="Random" min_max="0,30" operation="LT" value="15"/>
		</triggered_effect>
	</effect_group>
	</buff>
	<buff name="BlackDiamondHarvesting">
	<stack_type value="ignore"/>
	<duration value="0"/>
	<effect_group>
		<triggered_effect trigger="onSelfDestroyedBlock" action="CallGameEvent" event="GiveBlackDiamond" allow_client_call="true">	 
				<requirement name="CVarCompare" cvar="HOH_BookRead_Mining1" operation="GT" value="0" />
				<requirement name="TriggerHasTags" tags="Nitrate"/>
				<requirement name="RandomRoll" seed_type="Random" min_max="0,30" operation="GT" value="5"/> 
				<requirement name="RandomRoll" seed_type="Random" min_max="0,30" operation="LT" value="15"/> 
		</triggered_effect>
	</effect_group>
	</buff>
	<buff name="RubyHarvesting">
	<stack_type value="ignore"/>
	<duration value="0"/>
	<effect_group>
		<triggered_effect trigger="onSelfDestroyedBlock" action="CallGameEvent" event="GiveRuby" allow_client_call="true">	 
				<requirement name="CVarCompare" cvar="HOH_BookRead_Mining1" operation="GT" value="0" />
				<requirement name="TriggerHasTags" tags="Ruby"/>
				<requirement name="RandomRoll" seed_type="Random" min_max="0,30" operation="GT" value="5"/> 
				<requirement name="RandomRoll" seed_type="Random" min_max="0,30" operation="LT" value="15"/> 
		</triggered_effect>
	</effect_group>
	</buff>
	<buff name="BlueSaffireHarvesting">
	<stack_type value="ignore"/>
	<duration value="0"/>
	<effect_group>
		<triggered_effect trigger="onSelfDestroyedBlock" action="CallGameEvent" event="GiveBlueSaffire" allow_client_call="true">	 
				<requirement name="CVarCompare" cvar="HOH_BookRead_Mining1" operation="GT" value="0" />
				<requirement name="TriggerHasTags" tags="BlueSaffire"/>
				<requirement name="RandomRoll" seed_type="Random" min_max="0,30" operation="GT" value="5"/> 
				<requirement name="RandomRoll" seed_type="Random" min_max="0,30" operation="LT" value="15"/> 
		</triggered_effect>
	</effect_group>
	</buff>

</append>
<append xpath="/buffs/buff[@name='buffStatusCheck01']">
		<effect_group name="inbiomeforest">
		   <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="QuartzHarvesting">
				<requirement name="!HasBuff" buff="QuartzHarvesting"/>
				<requirement name="InBiome" biome="3"/>
			</triggered_effect>
			 <triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="QuartzHarvesting">
				<requirement name="!InBiome" biome="3"/>
			</triggered_effect>
		</effect_group>	
		
		<effect_group name="inbiomebforest">
		   <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="BlackDiamondHarvesting">
				<requirement name="!HasBuff" buff="BlackDiamondHarvesting"/>
				<requirement name="InBiome" biome="9"/>
			</triggered_effect>
			 <triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="BlackDiamondHarvesting">
				<requirement name="!InBiome" biome="9"/>
			</triggered_effect>
		</effect_group>	
		
		<effect_group name="inbiomedesert">
		   <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="RubyHarvesting">
				<requirement name="!HasBuff" buff="RubyHarvesting"/>
				<requirement name="InBiome" biome="5"/>
			</triggered_effect>
			 <triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="RubyHarvesting">
				<requirement name="!InBiome" biome="5"/>
			</triggered_effect>
		</effect_group>	

		<effect_group name="inbiomesnow">
		   <triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="BlueSaffireHarvesting">
				<requirement name="!HasBuff" buff="BlueSaffireHarvesting"/>
				<requirement name="InBiome" biome="1"/>
			</triggered_effect>
			 <triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="BlueSaffireHarvesting">
				<requirement name="!InBiome" biome="1"/>
			</triggered_effect>
		</effect_group>		








</append>

<append xpath="/buffs">



	<buff name="buffProtectionCheck" hidden="true">
		<update_rate value="1"/>
		<stack_type value="ignore"/>
		<!-- add/remove acid rain buff to player -->
		


		<effect_group name="InBiomeBurntForest">
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffAcidRain">
				<requirement name="!HasBuff" buff="buffAcidRainProt"/>
				<requirement name="!HasBuff" buff="god"/>
				<requirement name="!HasBuff" buff="buffNewbieCoat"/>
				<!--<requirement name="HasBuff" buff="buffElementWet"/>-->
				<requirement name="InBiome" biome="9"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffAcidRainProt">
				<requirement name="HasBuff" buff="god"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffAcidRainProt">
				<requirement name="CVarCompare" cvar="AcidProt" operation="Equals" value="100"/>
				</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffAcidRainProt">
				<requirement name="CVarCompare" cvar="AcidProt" operation="LT" value="100"/>
				</triggered_effect>
				<!--<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffAcidRain">
					<requirement name="CVarCompare" cvar="_wetness" operation="GTE" value=".25" />
				</triggered_effect>-->
				   
				
		</effect_group>

	<!-- add/remove heat buff to player -->
		<effect_group name="InBiomeDesert">
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffHeatDmg">
				<requirement name="!HasBuff" buff="buffHeatDmg"/>
				<requirement name="!HasBuff" buff="buffDHProt"/>
				<requirement name="!HasBuff" buff="god"/>
				<requirement name="!HasBuff" buff="buffNewbieCoat"/>
				<requirement name="InBiome" biome="5"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffHeatDmg">
				<requirement name="!InBiome" biome="5"/></triggered_effect>
		</effect_group>
		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffDHProt">
				<requirement name="CVarCompare" cvar="DHProt" operation="Equals" value="100"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffDHProt">
				<requirement name="CVarCompare" cvar="DHProt" operation="LT" value="100"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffDHProt">
				<requirement name="HasBuff" buff="god"/></triggered_effect>
		</effect_group>

	<!-- add/remove cold buff to player -->
		<effect_group name="InBiomeSnow">
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffColdDmg">
				<requirement name="!HasBuff" buff="buffColdDmg"/>
				<requirement name="!HasBuff" buff="buffFNProt"/>
				<requirement name="!HasBuff" buff="god"/>
				<requirement name="!HasBuff" buff="buffNewbieCoat"/>
				<requirement name="InBiome" biome="1"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffColdDmg">
				<requirement name="!InBiome" biome="1"/></triggered_effect>
		</effect_group>
		<effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffFNProt">
				<requirement name="CVarCompare" cvar="FNProt" operation="Equals" value="100"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffFNProt">
				<requirement name="CVarCompare" cvar="FNProt" operation="LT" value="100"/></triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffFNProt">
				<requirement name="HasBuff" buff="god"/></triggered_effect>

		</effect_group>


<!-- add radiation buff to player -->
		<effect_group name="InBiomeWasteland">
			
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffRadiationCatch">
				<requirement name="!HasBuff" buff="buffRadiationMain"/>
				<requirement name="!HasBuff" buff="god"/>
				<requirement name="!HasBuff" buff="buffNewbieCoat"/>
				<requirement name="InBiome" biome="8"/>
				<requirement name="!HasBuff" buff="buffDrugIodidePills"/>
				<requirement name="!HasBuff" buff="buffRadMods"/>
				<requirement name="CVarCompare" cvar="RadiationProt" operation="LT" value="100"/>
			</triggered_effect>
		</effect_group>
		<effect_group>
		<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffRadiationCatch">
				<requirement name="!InBiome" biome="8"/>
				</triggered_effect>
		</effect_group>
        <effect_group>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="self" buff="buffRadiationProt">
				<requirement name="CVarCompare" cvar="RadiationProt" operation="Equals" value="100"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" target="self" buff="buffRadiationProt">
				<requirement name="CVarCompare" cvar="RadiationProt" operation="LT" value="100"/>
			</triggered_effect>
		</effect_group>
	</buff>

<buff name="buffmodRad" hidden="true"></buff>

<!-- FULL RAD MOD SET PROVIDES IMMUNITY -->
	<buff name="buffRadMods" name_key="buffRadModsName" description_key="buffRadModsDesc" tooltip_key="buffRadModsTooltip" icon="ui_game_symbol_radiation" icon_color="0,204,153" icon_blink="false" hidden="false">
		<update_rate value="1"/>
		<stack_type value="ignore"/>
		<display_value value="RadModsCoverage"/>
		<display_value_key value=" {0:0}%"/>
		<effect_group>
		<requirement name="HasBuff" buff="buffRadMods"/>
			<requirement name="CVarCompare" cvar="RadiationProt" operation="LT" value="100"/>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="RadModsCoverage" operation="set" value="100"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="RadModsCoverage" operation="set" value="100"/>
			<triggered_effect trigger="onSelfBuffFinish" action="ModifyCVar" cvar="RadModsCoverage" operation="set" value="0"/>
			<passive_effect name="BuffResistance" operation="base_set" value="100" tags="buffRadiationMain"/>
			
		</effect_group>
	</buff>

<!-- DESERT HEAT BIOME BUFF -->
	<buff name="buffHeatDmg" name_key="buffHeatDmgName" description_key="buffHeatDmgDesc" tooltip_key="buffHeatDmgTooltip" icon="ui_game_symbol_hot" icon_color="254,17,14" icon_blink="true" hidden="false">
	<update_rate value="2"/>
	<damage_type value="heat"/>
	<stack_type value="ignore"/>
	<effect_group>
			<requirement name="HasBuff" buff="buffHeatDmg"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="heatEffect" operation="set" value="1"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="subtract" value="@heatEffect"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="heatModifier" operation="set" value="@_sheltered"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="heatEffect" operation="subtract" value="@heatModifier"/>
		<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffProtectionCheck"/>
	<!-- screen effects -->
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" effect_name="Hot" intensity="2.5" fade="5">
			<requirement name="CVarCompare" cvar="_sheltered" operation="Equals" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" effect_name="Hot" intensity=".5" fade="1">
			<requirement name="CVarCompare" cvar="_sheltered" operation="GT" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" effect_name="Hot" intensity="0" fade="1"/>
		<triggered_effect trigger="onSelfDied" action="ModifyScreenEffect" effect_name="Hot" intensity="0" fade="0"/>
	<!-- sound effects -->
		<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="Player_Male/PlayerMaleHot">
			<requirement name="IsMale"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="Player_Male/PlayerMaleHot">
			<requirement name="IsMale"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="Player_Female/PlayerFemaleHot">
			<requirement name="!IsMale"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="Player_Female/PlayerFemaleHot">
			<requirement name="!IsMale"/></triggered_effect>
	</effect_group>
	</buff>

	<buff name="buffDHProt" name_key="buffDHProtName" description_key="buffDHProtDesc" tooltip_key="buffDHProtTooltip" icon="ui_game_symbol_hot" icon_color="0,204,153" icon_blink="false" hidden="false">
	<update_rate value="1"/>
	<stack_type value="ignore"/>
	<display_value value="DHProt"/>
	<display_value_key value="{0:0}%"/>
	<effect_group>
		<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffHeatDmg"/>
		<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffProtectionCheck"/>
		<!--<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="open_apache_artifact_chest"/>-->
	</effect_group>
	</buff>

<!-- SNOWY COLD BIOME BUFF -->
	<buff name="buffColdDmg" name_key="buffColdDmgName" description_key="buffColdDmgDesc" tooltip_key="buffColdDmgTooltip" icon="ui_game_symbol_cold" icon_color="153, 51, 51" icon_blink="true" hidden="false">
	<update_rate value="2"/>
	<damage_type value="cold"/>
	<stack_type value="ignore"/>
	<effect_group>
			<requirement name="HasBuff" buff="buffColdDmg"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="coldEffect" operation="set" value="1"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="coldModifier" operation="set" value="@_sheltered"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="coldModifier" operation="add" value="@coldModifierActive"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="coldEffect" operation="subtract" value="@coldModifier"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="subtract" value="@coldEffect"/>
	<!-- If near a campfire/forge/chem station it decreases the cold effect a little more --> 
	<!-- tried to add burning barrel to this list by adding buffCampfireAOE to the blocks.xml but doesn't work -->
	<!-- on another note tried to add var _shaded as a coldmodifier but apparently that value only ever returns zero because it is tied to sunlight exposure so to use it one would have to be in a cave -->
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="coldModifierActive" operation="set" value="0"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="coldModifierActive" operation="set" value=".4">
			<requirements compare_type="or">
			<requirement name="HasBuff" buff="buffCampfireAOE"/>
			<requirement name="HasBuff" buff="buffHeatAOE"/>
			</requirements></triggered_effect>
		<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffProtectionCheck"/>
	<!-- screen effects -->
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" effect_name="Cold2" intensity=".1" fade="3">
			<requirement name="CVarCompare" cvar="coldModifier" operation="Equals" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" effect_name="Cold2" intensity=".03" fade="1">
			<requirement name="CVarCompare" cvar="coldModifier" operation="GT" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" effect_name="Cold2" intensity="0" fade="1"/>
		<triggered_effect trigger="onSelfDied" action="ModifyScreenEffect" effect_name="Cold2" intensity="0" fade="0"/>
	<!-- sound effects -->
		<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="Player_Male/PlayerMaleCold">
			<requirement name="IsMale"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffStart" action="PlaySound" target="self" sound="Player_Female/PlayerFemaleCold">
			<requirement name="!IsMale"/></triggered_effect>
	</effect_group>
	</buff>

	<buff name="buffFNProt" name_key="buffFNProtName" description_key="buffFNProtDesc" tooltip_key="buffFNProtTooltip" icon="ui_game_symbol_cold" icon_color="0,204,153" icon_blink="false" hidden="false">
	<update_rate value="1"/>
	<stack_type value="ignore"/>
	<display_value value="FNProt"/>
	<display_value_key value="{0:0}%"/>
	<effect_group>
		<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffColdDmg"/>
		<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffProtectionCheck"/>
		<!--<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="open_apache_artifact_chest"/>-->
	</effect_group>
	</buff>
	<buff name="buffAcidRainProt" name_key="buffAcidRainProt" description_key="buffAcidRainDesc" tooltip_key="buffAcidRainTooltip" icon="ui_game_symbol_chemistry" icon_color="0,204,153" icon_blink="false" hidden="false">
	<update_rate value="1"/>
	<stack_type value="ignore"/>
	<display_value value="AcidProt"/>
	<display_value_key value="{0:0}%"/>
	<effect_group>
		<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffAcidRain"/>
		<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffProtectionCheck"/>
		<!--<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="open_apache_artifact_chest"/>-->
	</effect_group>
	</buff>
	<buff name="buffRadiationProt" name_key="buffRadiationProt" description_key="buffRadiationProtDesc" tooltip_key="buffRadiationProtTooltip" icon="ui_game_symbol_radiation" icon_color="0,204,153" icon_blink="false" hidden="false">
	<update_rate value="1"/>
	<stack_type value="ignore"/>
	<display_value value="RadiationProt"/>
	<display_value_key value="{0:0}%"/>
	<effect_group>
		<!--<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" target="self" buff="buffAcidRain"/>-->
		<!--<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffProtectionCheck"/>-->
		<!--<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="open_apache_artifact_chest"/>-->
	</effect_group>
	</buff>
<!-- ACID RAIN BURNT FOREST BIOME BUFF -->
	<buff name="buffAcidRain" name_key="buffAcidRainName" description_key="buffAcidRainDesc" tooltip_key="buffAcidRainTooltip" icon="ui_game_symbol_chemistry" icon_color="204, 204, 0" icon_blink="true" hidden="false">
	<damage_type value="Corrosive"/>
	<stack_type value="ignore"/>
	<update_rate value="2"/>
	<effect_group>
			<requirement name="HasBuff" buff="buffAcidRain"/>
		<!--<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="open_apache_artifact_chest"/>-->
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="rainEffect" operation="set" value="1"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="subtract" value="@rainEffect"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="rainModifier" operation="set" value="@_sheltered"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="rainEffect" operation="subtract" value="@rainModifier"/>
		<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffProtectionCheck"/>
	<!-- screen effects (Dark,Blur,Infected,Distortion,Hot,Cold,Radiation,Greyscale,Drunk,
		Trippy,Spawnin,NightVision,Bright,Posterize,Underwater,Vibrant,VibrantDeSat,Dead,Dying) -->
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" effect_name="Dark" intensity="2" fade="5">
			<requirement name="CVarCompare" cvar="_sheltered" operation="Equals" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" effect_name="Dark" intensity="1" fade="1">
			<requirement name="CVarCompare" cvar="_sheltered" operation="GT" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" effect_name="Dark" intensity="0" fade="1"/>
		<triggered_effect trigger="onSelfDied" action="ModifyScreenEffect" effect_name="Dark" intensity="0" fade="0"/>
	<!-- sound effects -->
	
		<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="a_fire_sm_lp">
			<requirement name="IsMale"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" target="self" sound="a_fire_sm_lp">
			<requirement name="!IsMale"/></triggered_effect>
	<!-- particle effects for what its worth but it doesnt show much-->
		<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="RadiatedParticlesOnMesh" local_offset="0,0.75,0"/>
		<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="RadiatedParticlesOnMesh"/>
		<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="RadiatedParticlesOnMesh"/>
	</effect_group>
	</buff>

<!-- Got This from Vanilla infection code -->
	<!-- *** buffRadiationCatch -->
	<!-- Setup counters and start the Radiation cycle -->
	<buff name="buffRadiationCatch" name_key="buffRadiationCatch" hidden="true">
		<damage_type value="Bashing"/>
		<stack_type value="ignore"/>
		<duration value=".1"/>

		<effect_group>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="radCounter" operation="set" value="25">
				<requirement name="!HasBuff" buff="buffRadiationMain"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="radCounter" operation="add" value="250">
				<requirement name="HasBuff" buff="buffRadiationMain"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffRadiationMain"/>
		</effect_group>
	</buff>

<!-- BUFF RADIATION MAIN -->
	<!-- Main handler for Radiation -->




	
<buff name="buffRadiationMain" hidden="true" icon="ui_game_symbol_Radiation">
	<damage_type value="Radiation"/>
	<stack_type value="ignore"/>
	<duration value="0"/>
	<update_rate value="1"/>
	<tags value="deathpenalty_injured" />
	<!-- Radiation is fully %-based. radCounter is a float % value. Radiation kills the player when it reaches 100%, cures when it reaches 0%. -->
	<effect_group>
		<!-- $RadiationMaxDuration defined in buffStatusCheck01 (7 hours) -->
		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RadiationMaxDuration" operation="set" value="25200">
			<requirement name="CVarCompare" cvar="$RadiationMaxDuration" operation="Equals" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="AddOrRemoveBuff" buff="buffRadEffects">
			<requirement name="!HasBuff" buff="buffDrugIodidePills"/>
			<requirement name="CVarCompare" cvar="RadiationProt" operation="LT" value="100"/>
			
			<requirement name="!HasBuff" buff="buffRadMods"/></triggered_effect>

		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RadiationStage2Duration" operation="set" value="15"/> <!-- % of the full buff duration -->
		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RadiationStage3Duration" operation="set" value="40"/> <!-- % of the full buff duration -->

		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$radDisplayDivisor" operation="set" value="@$RadiationMaxDuration"/>
		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$radDisplayDivisor" operation="divide" value="100"/>

		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RadiationStage2Duration" operation="multiply" value="@$radDisplayDivisor"/>
		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$RadiationStage3Duration" operation="multiply" value="@$radDisplayDivisor"/>

		<!-- cleanup -->
		<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="radCounter" operation="set" value="0"/>
		<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".radDisplayPerc" operation="set" value="0"/>
		<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$radDisplayDivisor" operation="set" value="0"/>
		<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$RadiationStage2Duration" operation="set" value="0"/>
		<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$RadiationStage3Duration" operation="set" value="0"/>
		<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffRadEffects"/>
	</effect_group>

	<effect_group name="main loop">
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="radCounter" operation="add" value="12">
			<requirement name="InBiome" biome="8"/>
			
			<requirement name="!HasBuff" buff="buffRadMods"/>
			<requirement name="!HasBuff" buff="buffDrugIodidePills"/>
			<requirement name="CVarCompare" cvar="RadiationProt" operation="LT" value="100"/>
			</triggered_effect>

		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="radCounter" operation="subtract" value="5">
			<requirement name="CVarCompare" cvar="radCounter" operation="GT" value="0"/>
			<requirement name="InBiome" biome="8"/>
		<requirements compare_type="or">
			
			<requirement name="HasBuff" buff="buffRadMods"/>
			<requirement name="HasBuff" buff="buffDrugIodidePills"/>
			<requirement name="CVarCompare" cvar="RadiationProt" operation="EQ" value="100"/>
		</requirements></triggered_effect>

		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="radCounter" operation="subtract" value="2.5">
			<requirement name="CVarCompare" cvar="radCounter" operation="GT" value="0"/>
			<requirement name="!InBiome" biome="8"/></triggered_effect>

		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="radCounter" operation="set" value="0">
			<requirement name="CVarCompare" cvar="radCounter" operation="LTE" value="0"/></triggered_effect>
	</effect_group>

	<effect_group name="shut down">
		<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffRadiationMain">
			<requirement name="CVarCompare" cvar="radCounter" operation="LTE" value="0"/>
			<requirement name="CVarCompare" cvar="RadiationProt" operation="GTE" value="100"/>
		</triggered_effect>

		<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffRadiation01Untreated"/>
		<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffRadiation02Untreated"/>
		<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffRadiation03Untreated"/>
		<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="1" effect_name="Radiation"/>
		<triggered_effect trigger="onSelfDied" action="ModifyScreenEffect" intensity="0" fade="0" effect_name="Radiation"/>
	</effect_group>

	<effect_group name="display % values">
	<!-- .radDisplayPerc = radCounter / $radDisplayDivisor -->
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".radDisplayPerc" operation="set" value="@radCounter"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".radDisplayPerc" operation="divide" value="@$radDisplayDivisor"/>
	</effect_group>

	<effect_group name="signaling buffs">
		<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffRadiation01Untreated">
			<requirement name="!HasBuff" buff="buffRadiation01Untreated"/>
			<requirement name="CVarCompare" cvar="RadiationProt" operation="LT" value="100"/>
			<requirement name="CVarCompare" cvar="radCounter" operation="GT" value="0"/>
			<requirement name="CVarCompare" cvar="radCounter" operation="LT" value="@$RadiationStage2Duration"/>
		</triggered_effect>

		<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffRadiation02Untreated">
			<requirement name="!HasBuff" buff="buffRadiation02Untreated"/>
			<requirement name="CVarCompare" cvar="RadiationProt" operation="LT" value="100"/>
			<requirement name="CVarCompare" cvar="radCounter" operation="GTE" value="@$RadiationStage2Duration"/>
			<requirement name="CVarCompare" cvar="radCounter" operation="LT" value="@$RadiationStage3Duration"/>
		</triggered_effect>

		<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffRadiation03Untreated">
			<requirement name="!HasBuff" buff="buffRadiation03Untreated"/>
			<requirement name="CVarCompare" cvar="RadiationProt" operation="LT" value="100"/>
			<requirement name="CVarCompare" cvar="radCounter" operation="GTE" value="@$RadiationStage3Duration"/>
			<requirement name="CVarCompare" cvar="radCounter" operation="LT" value="@$RadiationMaxDuration"/>
		</triggered_effect>

		<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffRadiation04">
		<requirement name="CVarCompare" cvar="RadiationProt" operation="LT" value="100"/>
			<requirement name="CVarCompare" cvar="radCounter" operation="GTE" value="@$RadiationMaxDuration"/>
		</triggered_effect>
	</effect_group>

	<effect_group name="screen effects">
	<requirement name="CVarCompare" cvar="RadiationProt" operation="LT" value="100"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity=".02" fade=".2" effect_name="Radiation">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GT" value="0"/>
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="10"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity=".04" fade=".2" effect_name="Radiation">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="10"/>
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="20"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity=".06" fade=".2" effect_name="Radiation">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="20"/>
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="30"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity=".08" fade=".2" effect_name="Radiation">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="30"/>
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="40"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity=".1" fade=".2" effect_name="Radiation">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="40"/>
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="50"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity=".12" fade=".2" effect_name="Radiation">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="50"/>
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="60"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity=".14" fade=".2" effect_name="Radiation">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="60"/>
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="70"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity=".16" fade=".2" effect_name="Radiation">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="70"/>
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="80"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity=".18" fade=".2" effect_name="Radiation">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="80"/>
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="90"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity=".2" fade=".4" effect_name="Radiation">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="90"/>
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="100"/></triggered_effect>
	</effect_group>

	<effect_group name="getting hit makes it worse">
		<!-- When attacked again, make it last longer -->
		<triggered_effect trigger="onOtherAttackedSelf" action="AddBuff" buff="buffRadiationGetsWorse"/>
	</effect_group>
</buff>

<!-- *** buffRadiationGetsWorse -->
<!-- TRIGGERED_BY: Buff = buffRadiationMain -->
<!-- Blinks the display to indicate that the Radiation is getting worse with each additional hit from an entity -->
<buff name="buffRadiationGetsWorse" name_key="buffRadiationGetsWorse" icon="ui_game_symbol_brokenbone" icon_color="255,128,0" hidden="true">
	<stack_type value="ignore"/>
	<duration value="1.1"/>

	<effect_group>
		<!-- Blinks the display -->
		<passive_effect name="BuffBlink" operation="base_add" value="2" tags="buffRadiation01Untreated,buffRadiation02Untreated,buffRadiation03Untreated,buffRadiation04"/>
	</effect_group>
</buff>

<!-- *** buffRadiation01Untreated -->
<!-- TRIGGERED_BY: Buffs = buffRadiationMain -->
<!-- A mild Radiation -->
<!-- Displays an YELLOW biohazard icon -->
<buff name="buffRadiation01Untreated" name_key="buffRadiation01UntreatedName" description_key="buffRadiationMainDesc" tooltip_key="buffRadiation01UntreatedTooltip" icon="ui_game_symbol_radiation" icon_color="255,255,0">
	<damage_type value="Radiation"/>
	<stack_type value="ignore"/>
	<duration value="0"/>
	<display_value_key value="{0:0.0}%"/>
	<display_value value=".radDisplayPerc"/>

	<effect_group>
		<!-- Blinks the display -->
		<passive_effect name="BuffBlink" operation="base_set" value="2" duration="0,3" tags="buffRadiation01Untreated"/>
		<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffRadiation02Untreated"/>
		<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffRadiation03Untreated"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="subtract" value=".1">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" operation="subtract" value="1">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="3"/></triggered_effect>
	</effect_group>
</buff>

<!-- *** buffRadiation02Untreated -->
<!-- TRIGGERED_BY: Buffs = buffRadiationMain -->
<!-- A serious Radiation -->
<!-- Displays a ORANGE biohazard icon -->
<buff name="buffRadiation02Untreated" name_key="buffRadiation02UntreatedName" description_key="buffRadiationMainDesc" icon="ui_game_symbol_radiation" icon_color="255,128,0">
	<damage_type value="Radiation"/>
	<stack_type value="ignore"/>
	<duration value="0"/>
	<display_value_key value="{0:0.0}%"/>
	<display_value value=".radDisplayPerc"/>

	<effect_group>
		<!-- Blinks the display -->
		<passive_effect name="BuffBlink" operation="base_set" value="2" duration="0,3" tags="buffRadiation02Untreated"/>
		<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffRadiation01Untreated"/>
		<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffRadiation03Untreated"/>
	</effect_group>

	<effect_group>
		<passive_effect name="StaminaChangeOT" operation="perc_add" value="-.25"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="subtract" value=".2">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" operation="subtract" value="2">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="3"/></triggered_effect>
	</effect_group>
</buff>

<!-- *** buffRadiation03Untreated -->
<!-- TRIGGERED_BY: Buffs = buffRadiationMain -->
<!-- A life threatening serious Radiation -->
<!-- Displays an RED biohazard icon -->
<buff name="buffRadiation03Untreated" name_key="buffRadiation03UntreatedName" description_key="buffRadiationMainDesc" icon="ui_game_symbol_radiation" icon_color="255,0,0" icon_blink="true">
	<damage_type value="Radiation"/>
	<stack_type value="ignore"/>
	<duration value="0"/>
	<display_value_key value="{0:0.0}%"/>
	<display_value value=".radDisplayPerc"/>

	<effect_group>
		<!-- Blinks the display -->
		<passive_effect name="BuffBlink" operation="base_set" value="2" duration="0,3" tags="buffRadiation03Untreated"/>
		<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffRadiation01Untreated"/>
		<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffRadiation02Untreated"/>
	</effect_group>

	<effect_group>
		<passive_effect name="AttributeLevel" operation="base_subtract" value="1"/>
		<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffPerkAbilityUpdate"/>
		<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkAbilityUpdate"/>
		<passive_effect name="StaminaChangeOT" operation="perc_add" value="-.35"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="subtract" value=".3">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Stamina" operation="subtract" value="3">
			<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GTE" value="3"/></triggered_effect>
	</effect_group>
</buff>

<!-- *** buffRadiation04 -->
<!-- TRIGGERED_BY: Buffs = buffRadiationMain -->
<!-- Triggers full loss of all HP resulting in death -->
<buff name="buffRadiation04" tooltip_key="buffRadiation04Tooltip" icon="ui_game_symbol_radiation" icon_color="255,0,0">
	<damage_type value="Radiation"/>
	<stack_type value="ignore"/>
	<duration value=".1"/>

	<effect_group>
		<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" operation="subtract" value="99999999"/>
		<!-- Clear out counters -->
		<triggered_effect trigger="onSelfDied" action="ModifyCVar" cvar="radCounter" operation="set" value="1"/>
	</effect_group>
</buff>

<!-- RAD EFFECTS -->
<buff name="buffRadEffects" hidden="true">
	<stack_type value="ignore"/>
	<duration value="0"/>
<!-- base player effects -->
	<effect_group>
		<passive_effect name="Mobility" operation="perc_subtract" value=".03,.08"/>
		<passive_effect name="HealthMaxBlockage" operation="base_add" value="@.radDisplayPerc"/>
		<passive_effect name="StaminaMaxBlockage" operation="base_add" value="@.radDisplayPerc"/>
		<passive_effect name="FoodMaxBlockage" operation="base_add" value="@.radDisplayPerc"/>
		<passive_effect name="WaterMaxBlockage" operation="base_add" value="@.radDisplayPerc"/>
		<passive_effect name="BuffResistance" operation="perc_subtract" value="@.radDisplayPerc" tags="buffFatiguedTrigger,buffArmSprainedCHTrigger,buffLegSprainedCHTrigger,buffLaceration,buffInfectionCatch,buffAbrasionCatch,buffInjuryStunned01CHTrigger,buffInjuryBleedingTwo,buffInjuryBleedingBarbedWire"/>
		<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffRadEffects"/>
<!-- wetness radiation effect -->
	<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".radDisplayPerc" operation="add" value="@_wetness">
		<requirement name="InBiome" biome="8"/>
		<requirement name="CVarCompare" cvar="_wetness" operation="Equals" value="1"/>
		<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="100"/>
		<requirements compare_type="or">
			
			<requirement name="!HasBuff" buff="buffRadMods"/>
		</requirements>
	</triggered_effect>
	<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".radDisplayPerc" operation="subtract" value="@_wetness">
		<requirement name="!InBiome" biome="8"/>
		<requirement name="CVarCompare" cvar="_wetness" operation="Equals" value="1"/>
		<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GT" value="0"/>
	</triggered_effect>
<!-- underwater radiation effect -->
	<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".radDisplayPerc" operation="add" value="randomfloat(1,3)">
		<requirement name="InBiome" biome="8"/>
		<requirement name="CVarCompare" cvar="_underwater" operation="Equals" value="1"/>
		<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="LT" value="100"/>
		<requirements compare_type="or">
			
			<requirement name="!HasBuff" buff="buffRadMods"/>
		</requirements>
	</triggered_effect>
	<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".radDisplayPerc" operation="subtract" value="@_underwater">
		<requirement name="!InBiome" biome="8"/>
		<requirement name="CVarCompare" cvar="_underwater" operation="Equals" value="1"/>
		<requirement name="CVarCompare" cvar=".radDisplayPerc" operation="GT" value="0"/>
	</triggered_effect>
	</effect_group>
</buff>

<!-- Iodide PILLS -->
<buff name="buffDrugIodidePills" name_key="drugIodidePills" description_key="drugIodidePillsDesc" icon="ui_game_symbol_radiation" icon_color="128,0,128" icon_blink="false" hidden="false">
	<stack_type value="replace"/>
	<duration value="0"/>
	<display_value value=".buffDrugIodidePillsDisplay"/>
	<display_value_format value="time"/>
	<effect_group>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugIodidePillsDuration" operation="subtract" value="@$MetabolismDuration"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".buffDrugIodidePillsDisplay" operation="set" value="@$buffDrugIodidePillsDuration"/>
		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".buffDrugIodidePillsDisplay" operation="divide" value="@$MetabolismDuration"/>
	</effect_group>
	<effect_group>
		<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffDrugIodidePills">
			<requirement name="CVarCompare" cvar="$buffDrugIodidePillsDuration" operation="LTE" value="0"/>
		</triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffDrugIodidePills">
			<requirement name="HasBuff" buff="god"/></triggered_effect>
		<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".buffDrugIodidePillsDisplay" operation="set" value="0"/>
		<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffDrugIodidePillsDuration" operation="set" value="0"/>
	</effect_group>
	<effect_group>
		<passive_effect name="BuffResistance" operation="base_add" value="1" tags="buffRadiationMain"/>
	</effect_group>
</buff>
</append>

<append xpath="/buffs/buff[@name='buffDesert_Hazard']">
	<effect_group>
		<passive_effect name="Mobility" operation="perc_subtract" value=".01,.3">
			<requirement name="!HasBuff" buff="buffDHProt"/></passive_effect>
	</effect_group>
</append>
<append xpath="/buffs/buff[@name='buffSnow_Hazard']">
	<effect_group>
		<passive_effect name="Mobility" operation="perc_subtract" value=".01,.3">
			<requirement name="!HasBuff" buff="buffFNProt"/></passive_effect>
	</effect_group>
</append>

<append xpath="/buffs/buff[@name='buffStatusCheck01']">
<effect_group>
	<triggered_effect trigger="onSelfEnteredGame" action="ModifyCVar" cvar="$radiationMaxDuration" operation="set" value="25200"/>
</effect_group>
</append>

<!--<insertAfter xpath="/buffs/buff[@name='buffJournalUnlocks']/effect_group/triggered_effect[@trigger='onSelfBuffUpdate' and @journal='criticalHitsTip']">
		<triggered_effect trigger="onSelfBuffUpdate" action="AddJournalEntry" journal="HeatDmgTip">
			<requirement name="CVarCompare" cvar="$journalUnlockTimer" operation="Equals" value="16"/>
		</triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="AddJournalEntry" journal="ColdDmgTip">
			<requirement name="CVarCompare" cvar="$journalUnlockTimer" operation="Equals" value="17"/>
		</triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="AddJournalEntry" journal="AcidRainDmgTip">
			<requirement name="CVarCompare" cvar="$journalUnlockTimer" operation="Equals" value="18"/>
		</triggered_effect>
		<triggered_effect trigger="onSelfBuffUpdate" action="AddJournalEntry" journal="RadiationDmgTip">
			<requirement name="CVarCompare" cvar="$journalUnlockTimer" operation="Equals" value="19"/>
		</triggered_effect>
</insertAfter>-->

</configs>